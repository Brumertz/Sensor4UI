<Window x:Class="Sensing4U_Sensor_App.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:Sensing4U_Sensor_App.ViweModels"
        Title="Sensor Data" Height="450" Width="800">

    <Window.DataContext>
        <vm:MainViewModel/>
    </Window.DataContext>
    
    <Grid>
        <!--  Range Inputs  -->
        <StackPanel
            Margin="10"
            HorizontalAlignment="Center"
            Orientation="Vertical">
            <TextBlock HorizontalAlignment="Center" Text="Lower Range:" />
            <TextBox
                Width="100"
                Margin="5"
                Text="{Binding LowerRange}" />
            <TextBlock HorizontalAlignment="Center" Text="Upper Range:" />
            <TextBox
                Width="100"
                Margin="5"
                Text="{Binding UpperRange}" />
        </StackPanel>
        <!--  Data Grid  -->
        <DataGrid Margin="10,70,10,10" ItemsSource="{Binding SensorData}">
            <DataGrid.Columns>
                <DataGridTextColumn
                    Width="150"
                    Binding="{Binding Label}"
                    Header="Label" />
                <DataGridTextColumn
                    Width="150"
                    Binding="{Binding Value}"
                    Header="Value" />
                <DataGridTemplateColumn Header="Color">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Border Height="20" Background="{Binding Color}" />
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
        <!--  Average Display  -->
        <TextBlock
            Margin="10"
            HorizontalAlignment="Center"
            VerticalAlignment="Bottom"
            Text="{Binding CalculateAverage}" />
        <!--  Save and Load Buttons  -->
        <StackPanel
            HorizontalAlignment="Right"
            VerticalAlignment="Bottom"
            Orientation="Horizontal">
            <Button
                Margin="10"
                Command="{Binding SaveDataCommand}"
                Content="Save" />
            <Button
                Margin="10"
                Command="{Binding LoadDataCommand}"
                Content="Load" />
        </StackPanel>
    </Grid>
</Window>